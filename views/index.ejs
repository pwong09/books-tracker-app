<%- include('partials/header') %>
        <h1>Welcome to KanShu!</h1>
    <section>
        <form method="GET" action="/">
            <label>Find a book by</label>
            <select class="form-select" aria-label="Default select example" name="keyword">
                <option selected value="intitle">title</option>
                <option value="inauthor">author</option>
                <option value="inpublisher">publisher</option>
                <option value="subject">category</option>
                <option value="isbn">isbn</option>
            </select><br>
            <input class="input-group-lg" type="text" name="q" />
            <input class="button" id="search-button" type="submit" value="Search Books" />
        </form>
    </section>
    <% if (results) { %> 
        <% for( let i = 0; i < results.length; i++ ) { %>
            <section class="search-results">
                <% if (results[i].volumeInfo) { %>
                <div>
                    <img 
                        src="<%= results[i].volumeInfo.imageLinks ? results[i].volumeInfo.imageLinks.thumbnail : null %>"
                        alt="<%= results[i].volumeInfo.title %>"
                        width="110" height="auto" /><br>
                </div>
                <div>
                    <span>Title:</span> <%= results[i].volumeInfo.title %><br> 
                    <span>Author(s):</span> <%= results[i].volumeInfo.authors %><br> 
                    <span>Publisher:</span> <%= results[i].volumeInfo.publisher %><br> 
                    <span>Date Published:</span> <%= results[i].volumeInfo.publishedDate %><br>
                    <span>Description:</span> 
                        <%= typeof(results[i].volumeInfo.description) === 'string' ? results[i].volumeInfo.description.substring(0, 225) : null %> 
                </div>
                <% } else { %>
                    <p>Please narrow in your search</p>
                <% } %>
            </section>
        <% } %>
    <% } %> 


<%- include('partials/footer') %> 